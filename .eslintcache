[{"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\index.js":"1","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\App.js":"2","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\Map.js":"3","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\TopTen.js":"4","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\Trend.js":"5","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\WorldMap.js":"6","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\Number.js":"7","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\Header.js":"8","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendTable.js":"9","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\Header.js":"10","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\nameMap.js":"11","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\world.js":"12","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\EpidemicChange.js":"13","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\EpidemicChangeEchart.js":"14","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaMap.jsx":"15","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\china.js":"16","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\Echart\\china-left.js":"17","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaMapEchart.js":"18","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\PageChinaMap.js":"19","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaHeader.js":"20","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaNumber.js":"21","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\TrendChina.js":"22","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\News.jsx":"23","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\util\\Time.js":"24","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\News\\NewsList.jsx":"25","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendChina.jsx":"26","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendChinaEchart.js":"27","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\mock\\countryColors.js":"28","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\mock\\provinceColor.js":"29","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\api\\axiosMonth.js":"30","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\api\\config.js":"31"},{"size":241,"mtime":1623001611957,"results":"32","hashOfConfig":"33"},{"size":1549,"mtime":1623144132732,"results":"34","hashOfConfig":"33"},{"size":598,"mtime":1623144471625,"results":"35","hashOfConfig":"33"},{"size":1906,"mtime":1623144132950,"results":"36","hashOfConfig":"33"},{"size":399,"mtime":1622890152726,"results":"37","hashOfConfig":"33"},{"size":3817,"mtime":1623169558988,"results":"38","hashOfConfig":"33"},{"size":1440,"mtime":1623144132739,"results":"39","hashOfConfig":"33"},{"size":396,"mtime":1622998281218,"results":"40","hashOfConfig":"33"},{"size":7720,"mtime":1623144655026,"results":"41","hashOfConfig":"33"},{"size":245,"mtime":1622887977311,"results":"42","hashOfConfig":"33"},{"size":6648,"mtime":1622633747471,"results":"43","hashOfConfig":"33"},{"size":147935,"mtime":1622633747473,"results":"44","hashOfConfig":"33"},{"size":2674,"mtime":1623171037149,"results":"45","hashOfConfig":"33"},{"size":5956,"mtime":1623167559050,"results":"46","hashOfConfig":"33"},{"size":3972,"mtime":1623169673877,"results":"47","hashOfConfig":"33"},{"size":62753,"mtime":1622920941076,"results":"48","hashOfConfig":"33"},{"size":1727,"mtime":1622948154846,"results":"49","hashOfConfig":"33"},{"size":2420,"mtime":1622952172061,"results":"50","hashOfConfig":"33"},{"size":596,"mtime":1623144497225,"results":"51","hashOfConfig":"33"},{"size":373,"mtime":1622955081783,"results":"52","hashOfConfig":"33"},{"size":1655,"mtime":1623001611951,"results":"53","hashOfConfig":"33"},{"size":453,"mtime":1623144132951,"results":"54","hashOfConfig":"33"},{"size":1057,"mtime":1623144386094,"results":"55","hashOfConfig":"33"},{"size":597,"mtime":1622988465025,"results":"56","hashOfConfig":"33"},{"size":1369,"mtime":1623146747153,"results":"57","hashOfConfig":"33"},{"size":2332,"mtime":1623170280484,"results":"58","hashOfConfig":"33"},{"size":1792,"mtime":1623144132743,"results":"59","hashOfConfig":"33"},{"size":509,"mtime":1623144132840,"results":"60","hashOfConfig":"33"},{"size":1029,"mtime":1623163383395,"results":"61","hashOfConfig":"33"},{"size":2605,"mtime":1623160180171,"results":"62","hashOfConfig":"33"},{"size":79,"mtime":1623144132736,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"12shfu4",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"66"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"126"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"126"},"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\index.js",[],["129","130"],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\App.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\Map.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\TopTen.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\Trend.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\WorldMap.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\Number.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\Header.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendTable.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\Header.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\nameMap.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\world.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\EpidemicChange.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\EpidemicChangeEchart.js",["131"],"\r\n\r\nimport * as echarts from 'echarts';\r\nimport $ from 'jquery';\r\nimport jsonData from  '../mock/china/ProvincesMonthData.json'\r\n// import {getAllMouthDate} from '../api/axiosMonth';\r\nimport { chinaProvinceColor } from '../mock/provinceColor';\r\n// import {countryColors} from '../mock/countryColors';\r\n\r\nexport const EpidemicChangeEchart = (dataSel,race) => {\r\n  \r\n  let ROOT_PATH = 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples';\r\n  let dom = document.getElementById(\"container\");\r\n  let myChart = echarts.init(dom);\r\n\r\n  let option;\r\n  // 每隔update Frequency/1000 秒月份就加一\r\n  let updateFrequency = race || 50000;\r\n  const showRow = dataSel;\r\n  // let dimension = 0;\r\n\r\n\r\n  const labApi = 'https://lab.isaaclin.cn'\r\n  $.when(\r\n    $.getJSON('https://cdn.jsdelivr.net/npm/emoji-flags@1.3.0/data.json'),\r\n    $.getJSON(ROOT_PATH + '/data/asset/data/life-expectancy-table.json'),\r\n    $.getJSON(labApi+`/nCoV/api/news`),\r\n  ).done(function (res0, res1,res2) {\r\n      // console.log('flags<<\\n',res0[0],'\\ndata<<\\n',res1,'\\nres2<<\\n',res2[0]);\r\n    // console.log('res0Length<<',res0[0].length)\r\n    // console.log('res0Length<<',res1[0].length)\r\n    // console.log('res0Length<<',res2[0].length)\r\n    // let flags = res0[0];\r\n    let flags = chinaProvinceColor;\r\n    \r\n    // let data1 =  await getAllMouthDate() \r\n\r\n    /*   \r\n    async function getAllMouthDateFunc(){\r\n      const promiseResovle = await getAllMouthDate();\r\n      console.log('getAllMouthDateFunc/promiseResovle<<',promiseResovle)\r\n      return promiseResovle\r\n    };\r\n    let data1 = getAllMouthDateFunc();\r\n    console.log(Object.prototype.toString.call(data1));\r\n    console.log('getAllMouthDate/data1<<',data1)\r\n     */\r\n    // let data;\r\n/* \r\n    async function getAllProvinceData() {\r\n      return await getAllMouthDate()\r\n      .then((res) => {\r\n        const data = res.data;\r\n        console.log('getAllMouthDate/then/data<<', data,  data.length);\r\n        console.log('Object.prototype.toString.call<<data<<', Object.prototype.toString.call(data));\r\n        const idx = 5;\r\n        console.log('data[0][idx]<<', data[0][idx]);\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message,'敢说我网络错误');\r\n      })\r\n    }\r\n */\r\n    console.log('jsonData<<',jsonData)\r\n    let data = jsonData.data;\r\n    console.log('Object.prototype.toString.call<<data<<', Object.prototype.toString.call(data));\r\n    console.log('data<<',data);\r\n\r\n\r\n    const dataMonthidx = 5;\r\n    let months = [];\r\n    // console.log('data[2]<<',data[2]);\r\n    for (let i = 0; i < data.length; ++i) {\r\n      if (months.length === 0 || months[months.length-1] !== data[i][dataMonthidx]) {\r\n        months.push(data[i][dataMonthidx]);\r\n      }\r\n    }\r\n    //  console.log('months<<',months)\r\n\r\n    function getFlag(provinceName) {\r\n      if (!provinceName) {\r\n        return 'none name';\r\n      }\r\n      \r\n      for (let index in flags) {\r\n        if (provinceName.toString() === index.toString()) {\r\n          return flags[index];\r\n        }\r\n      }\r\n    }\r\n    // 开始月份0代表第一个月份数据\r\n    let startIndex = 1;\r\n    let startMonth = months[startIndex];\r\n\r\n    let option = {\r\n      grid: {\r\n        top: 10,\r\n        bottom: 30,\r\n        left: 150,\r\n        right: 80\r\n      },\r\n      xAxis: {\r\n        max: 'dataMax',\r\n        label: {\r\n          formatter: function (n) {\r\n            return Math.round(n);\r\n          }\r\n        }\r\n      },\r\n      dataset: {\r\n        source: data.slice(1).filter(function (d) {\r\n          return d[dataMonthidx] === startMonth;\r\n        })\r\n      },\r\n      yAxis: {\r\n        type: 'category',\r\n        inverse: true,\r\n        max: 30,\r\n        axisLabel: {\r\n          show: true,\r\n          textStyle: {\r\n            fontSize: 14\r\n          },\r\n          formatter: function (value) {\r\n            return value ;\r\n            // return value + '{flag|' + getFlag(value) + '}';\r\n          },\r\n          rich: {\r\n            flag: {\r\n              fontSize: 15,\r\n              padding: 5\r\n            }\r\n          }\r\n        },\r\n        animationDuration: 300,\r\n        animationDurationUpdate: 300\r\n      },\r\n      series: [{\r\n        realtimeSort: true,\r\n        seriesLayoutBy: 'column',\r\n        type: 'bar',\r\n        itemStyle: {\r\n          color: function (param) {\r\n            return chinaProvinceColor[param.value[4]] || '#5470c6';\r\n          }\r\n        },\r\n        encode: {\r\n          x: showRow,\r\n          y: 4\r\n        },\r\n        label: {\r\n          show: true,\r\n          precision: 1,\r\n          position: 'right',\r\n          valueAnimation: true,\r\n          fontFamily: 'monospace'\r\n        }\r\n      }],\r\n      // Disable init animation.\r\n      animationDuration: 0,\r\n      animationDurationUpdate: updateFrequency,\r\n      animationEasing: 'linear',\r\n      animationEasingUpdate: 'linear',\r\n      graphic: {\r\n        elements: [{\r\n          type: 'text',\r\n          right: 160,\r\n          bottom: 60,\r\n          style: {\r\n            text: startMonth,\r\n            font: 'bolder 32px monospace',\r\n            fill: '#7fff00'\r\n          },\r\n          z: 100\r\n        }]\r\n      }\r\n    };\r\n\r\n    // console.log(option);\r\n    myChart.setOption(option);\r\n\r\n    for (let i = startIndex; i < months.length - 1; ++i) {\r\n      (function (i) {\r\n        setTimeout(function () {\r\n          updateMonth(months[i + 1]);\r\n        }, (i - startIndex) * updateFrequency);\r\n      })(i);\r\n    }\r\n\r\n    function updateMonth(month) {\r\n      let source = data.slice(1).filter(function (d) {\r\n        return d[dataMonthidx] === month;\r\n      });\r\n      option.series[0].data = source;\r\n      option.graphic.elements[0].style.text = month;\r\n      myChart.setOption(option);\r\n    }\r\n  }).fail(function(error) {\r\n    console.log('获取数据失败了',error)\r\n  })\r\n\r\n  if (option && typeof option === 'object') {\r\n    myChart.setOption(option);\r\n  }\r\n  return () => {\r\n    // cleanup\r\n  };\r\n}","G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaMap.jsx",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\utils\\china.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\Echart\\china-left.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaMapEchart.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\PageChinaMap.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaHeader.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Map\\ChinaNumber.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\TrendChina.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\pages\\News.jsx",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\util\\Time.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\News\\NewsList.jsx",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendChina.jsx",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\components\\Trend\\TrendChinaEchart.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\mock\\countryColors.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\mock\\provinceColor.js",[],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\api\\axiosMonth.js",[],["132","133"],"G:\\Study\\Code\\Web\\DataVisualization\\covid_19\\src\\api\\config.js",[],{"ruleId":"134","replacedBy":"135"},{"ruleId":"136","replacedBy":"137"},{"ruleId":"138","severity":1,"message":"139","line":81,"column":14,"nodeType":"140","messageId":"141","endLine":81,"endColumn":21},{"ruleId":"134","replacedBy":"142"},{"ruleId":"136","replacedBy":"143"},"no-native-reassign",["144"],"no-negated-in-lhs",["145"],"no-unused-vars","'getFlag' is defined but never used.","Identifier","unusedVar",["144"],["145"],"no-global-assign","no-unsafe-negation"]